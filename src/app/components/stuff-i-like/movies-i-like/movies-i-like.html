<!-- TODO: make a button at the bottom of the page to turn off the autoscroll -->
<!-- TODO: create the css for displaying information about the movie when hovering -->


<div class="container mt-3">
    <div class="row justify-content-center align-self-center">

        <div class="col-8 marquee-wrapper-outer">
            <div class="marquee-wrapper">
                <div class="marquee-content">
                    <div id="movie-marque" class="list-group list-group-horizontal justify-content-center align-self-center marquee-content">

                        <div class="marquee-track">
                            
                            @for (movie of movieArray; track movie.movieTitle; let i = $index) {
                                <img 
                                    [src]="movie.moviePoster" 
                                    class="marquee-item list-group-item list-group-item-action" 
                                    (mouseover)="setAllCurrentMovieData(i); pauseAnimation()" 
                                    (focus)="setAllCurrentMovieData(i); pauseAnimation()"
                                    (mouseleave)="resumeAnimation()"
                                    [alt]="movie.movieTitle"
                                >
                            }
                            
                            @for (movie of movieArray; track movie.movieTitle; let i = $index) {
                                <img 
                                    [src]="movie.moviePoster" 
                                    class="marquee-item list-group-item list-group-item-action" 
                                    (mouseover)="setAllCurrentMovieData(i); pauseAnimation()" 
                                    (focus)="setAllCurrentMovieData(i); pauseAnimation()"
                                    (mouseleave)="resumeAnimation()"
                                    [alt]="movie.movieTitle"
                                >
                            }
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="container mt-1">
    <div class="row">
        <h2 class="fs-1 text-center border border-3 p-0" id="movie-header">  

            <div class="container">
            <div class=" row align-items-center">
                <div class="col-4">
                    <a [href]="currentMovieLink()" target="_blank" rel="noopener noreferrer"> <img class="currentMoviePoster" [src]="currentMoviePoster()" [alt]="" [id]="currentMovieTitle() + 'poster'"></a>
                </div>

                <div class="col-4 text-center currentMovieTitle">
                    <a [href]="currentMovieLink()" target="_blank" rel="noopener noreferrer"> {{ currentMovieTitle() }} </a>
                </div>

                <div class="col-4">
                    <a href="https://letterboxd.com/MegaXmas/" target="_blank" rel="noopener noreferrer"> <img class="letterboxd-profile" src="https://a.ltrbxd.com/resized/avatar/upload/1/1/7/8/0/4/9/9/shard/avtr-0-220-0-220-crop.jpg?v=4fb09fb5fb" alt="letterboxd-profile"></a>
                </div>
            </div>
            </div>


        </h2>
    </div>

    <div class="row">
        <p class="fs-4 border border-3 mt-0" id="movie-review"> {{ currentMovieReview() }} </p>
    </div>
</div>